+++
title = "[控制] 基础概念"
date = 2026-02-18T00:00:00+08:00
draft = false
columns = ["控制"]
tags = ["控制", "动力学", "机械臂", "理论力学", "机器人"]
+++

## 写在前面
在写其他控制算法的时候突然意识到一个问题：有很多细碎的概念夹杂在各种控制算法中，如果不知道，就不好理解算法，如果每篇博客都单独讲一遍，又非常得冗余，因此决定单开一篇博客，专门记录这些通用的，相对高频出现的控制概念

## 连续级别
该概念常用于轨迹规划、路径生成和运动控制领域，常用的有C0、C1、C2连续

比如C2连续（C² continuity，二阶几何连续）是指曲线或轨迹在位置、速度、加速度三个层面都保持连续，没有突变

以机器人关节控制为例：
- C0不连续：关节角度突变 → 机械冲击，可能损坏减速器
- C1不连续：速度突变 → 电机电流冲击，产生振动和噪声  
- C2不连续：加速度突变（加加速度/Jerk无穷大）→ 柔性结构振荡，末端执行器抖动

或者在车辆的自动驾驶轨迹规划中，C2连续意味着曲率连续变化：
- 方向盘角度可以平滑过渡，不会出现"打方向盘"的顿挫感
- 避免轮胎侧向力突变，提升乘坐舒适性
- 符合车辆运动学约束（自行车模型要求曲率连续）

通常会用样条插值、五次多项式拟合、B样条曲线等方式实现C2连续

此外，C2连续是工程实践的最常用的等级，C1还是不够流畅，C3相比C2的提升不大，但对传感器和算力的要求显著增大

## 映射和算子
映射描述的是“用一种变换，实现将参考系B中的物体的状态，投影到参考系A中，得到其在A中的状态是什么”；
算子描述的是“用一种变换，实现在同一参考系中，将位姿A转换成位姿B”；

二者的区别在于，前者跨越了坐标系，后者在同一坐标系中；
比如
${}^A_B{R}$  作为映射时，表达的是将某一个对象，从参考系B变换到参考系A；
作为算子时，表达的是，在世界坐标系（其他坐标系也可以，反正**一定要有另一个参考系**，这里的AB作为变换对象，而不是参考系）下，将对象A的位姿变换到对象B的位姿
可以发现同一个符号，**作为映射和算子时的变换方向是相反的**

## 广义速度 和 笛卡尔速度
“广义速度矢量”（Generalized Velocity Vector）是分析力学（Analytical Mechanics）和机器人动力学中最基础的一个概念

首先我们定义广义：在力学中，用一组最少的参数来完整描述一个系统的姿态，这组参数叫广义坐标；这组参数（向量）内部的不同参数的单位允许是不统一的

以机械臂为例，如果存在一个机械臂同时拥有转动关节和移动关节，那么这组向量中就会同时存在deg/s和m/s至少两种单位

特性     | 广义速度 (q˙​)|笛卡尔速度 (V)|
-------- | ----- | -------
定义  | 空间关节空间 (Joint Space)|任务空间 (Task Space)
维数  | 等于自由度数量 $n$ (比如 6)|总是 6 (3个线速度 + 3个角速度)
物理意义  | 电机转速|末端机构的运动速度
观察者|电机编码器读到的数值|外部摄像机看到的运动|
数学桥梁|自变量|因变量 ($\mathcal{V} = J \cdot \dot{q}$)

---
## 反对称矩阵
在机器人学中，向量叉乘 $\mathbf{a} \times \mathbf{b}$ 经常被写成矩阵相乘 $[\mathbf{a}]_\times \mathbf{b}$
这主要用于推导牛顿-欧拉方程（Newton-Euler equations）

但矩阵和向量仅仅是表达形式上的不同，属于数学上的变换，不影响其表达的实际含义

---

## 实对称矩阵
定义：
一个方阵 $A$，如果它的转置等于它自己（$A^T = A$），且所有元素都是实数（没有虚数 $i$），它就是实对称矩阵

举例：惯性张量
$$I = \begin{bmatrix}
\color{red}{I_{xx}} & \color{blue}{I_{xy}} & \color{green}{I_{xz}} \\
\color{blue}{I_{yx}} & \color{red}{I_{yy}} & \color{purple}{I_{yz}} \\
\color{green}{I_{zx}} & \color{purple}{I_{zy}} & \color{red}{I_{zz}}
\end{bmatrix}$$

---
## 惯性力
这里我们主要涉及的是 **离心力与科里奥利力**

离心力（Centrifugal Force）和科里奥利力（Coriolis Force）都属于**惯性力**（Inertial Force），即在非惯性系（旋转参考系）中为了让牛顿运动定律依然成立而引入的“虚拟力”

它们在物理本质上是统一的，但在表现形式和触发条件上有着显著的区别


### 核心定义与区别

两者的主要区别在于物体是否在旋转体系中**运动**。

| 特性 | 离心力 | 科里奥利力 |
| --- | --- | --- |
| **触发条件** | 只要物体处于旋转体系中就会产生 | 物体必须在旋转体系中**有相对运动** () |
| **力的方向** | 始终沿径向**向外**，背离转轴 | 始终与相对速度方向**垂直** |
| **公式表达** | $\mathbf{F}_{cf} = -m \boldsymbol{\omega} \times (\boldsymbol{\omega} \times \mathbf{r})$ |$\mathbf{F}_{c} = -2m (\boldsymbol{\omega} \times \mathbf{v}_r)$ |
| **物理本质** | 物体惯性对向心运动的“抗拒” | 物体在不同转动半径处惯性速度不匹配产生的偏转 |


### 关系

**1. 统一的动力学来源**

在旋转参考系中，一个质点的加速度方程可以写作：
$$\mathbf{a}_i = \mathbf{a}_r + \mathbf{\dot{\omega}} \times \mathbf{r} + \boldsymbol{\omega} \times (\boldsymbol{\omega} \times \mathbf{r}) + 2\boldsymbol{\omega} \times \mathbf{v}_r$$

其中：

*  $\boldsymbol{\omega} \times (\boldsymbol{\omega} \times \mathbf{r})$ 项对应的是**离心加速度**
*  $2\boldsymbol{\omega} \times \mathbf{v}_r$ 项对应的是**科里奥利加速度**

从方程可以看出，它们都是旋转坐标系变换产生的修正项，统称为惯性力项

**2. 能量与功**

* **离心力是保守力**：它只与位置有关，可以定义势能（离心势能）。离心力可以对物体做功，改变其动能。
* **科里奥利力不做功**：因为科里奥利力始终垂直于物体的运动方向（$\mathbf{F}_c \perp \mathbf{v}_r$），它只改变运动的方向，不改变速度的大小

**3. 举例说明**

想象一个顺时针旋转的巨大圆盘上：

1. **当物体相对转盘静止时（偏离轴心）**：似乎有一股力量把物体往外甩，这就是**离心力**。此时没有科里奥利力。
2. **当物体试图向圆心移动时**：
	* **离心力**试图阻碍物体靠近圆心。
	* **科里奥利力**出现，物体像是受到一股侧向的力，试图将物体推向左侧。这是因为物体原本拥有较大的切向速度（圆盘边缘速度快），当物体试图接近转轴（速度慢的地方）时，惯性让物体保持原有的快速度，从而相对于圆盘向左偏转；相应的，如果物体试图远离转轴，就会受到相对圆盘向右的力

---

## 惯性张量
由于内容比较多，我[单开了一篇博客](https://blog.csdn.net/m0_59475014/article/details/157974505?spm=1001.2014.3001.5501)讲解惯性张量

---
## 传输定理（Transport Theorem）
全称 **雷诺传输定理的矢量形式（Reynolds Transport Theorem for Vectors）**，也就是 旋转坐标系下的导数公式，用于连接**惯性系（静止系）和非惯性系（旋转系）**

该定理在推导欧拉动力学公式中会用到

**概述：**
同一个矢量，在“站着不动的人”看来，和在“跟着转动的人”看来，其变化率（导数）是不一样的
传输定理就是**用来换算这两个变化率的公式**<br>


**公式说明：**
假设有一个矢量 $\mathbf{A}$（可以是位置、速度、角动量等任何矢量）
* $S$ (Space)：静止的惯性坐标系（世界系、基座系、笛卡尔系）
* $B$ (Body)：以角速度 $\boldsymbol{\omega}$ 旋转的随体坐标系（本体系）

传输定理的公式如下：$$\left( \frac{d\mathbf{A}}{dt} \right)_{S} = \left( \frac{d\mathbf{A}}{dt} \right)_{B} + \boldsymbol{\omega} \times \mathbf{A}$$
* 左边 $\left( \frac{d\mathbf{A}}{dt} \right)_{S}$：在静止坐标系中观察到的 $\mathbf{A}$ 的变化率（这是牛顿定律生效的地方）
* 右边第一项 $\left( \frac{d\mathbf{A}}{dt} \right)_{B}$：在旋转坐标系中观察到的 $\mathbf{A}$ 的变化率（“相对变化率”）
* 右边第二项 $\boldsymbol{\omega} \times \mathbf{A}$：传输项（Transport Term）。这是仅仅因为坐标系在转动而产生的“虚假”变化

